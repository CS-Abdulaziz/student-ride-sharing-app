{% load static i18n %}
{% get_current_language as CURRENT_LANG %}
<!doctype html>
<html lang="{{ CURRENT_LANG }}" dir="{% if CURRENT_LANG|slice:":2" == 'ar' %}rtl{% else %}ltr{% endif %}" data-bs-theme="dark">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{% trans "Admin Login" %} - {% trans "Dashboard" %}</title>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;800&display=swap" rel="stylesheet">
    <!-- Bootstrap 5 CSS -->
    {% if CURRENT_LANG|slice:":2" == 'ar' %}
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.rtl.min.css" rel="stylesheet">
    {% else %}
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    {% endif %}
    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" rel="stylesheet">
    <!-- App CSS -->
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
  </head>
  <body>
    <main class="login-wrapper d-flex align-items-center justify-content-center min-vh-100 px-3">
      <div class="login-card card shadow-lg">
        <div class="card-body p-4 p-md-5">
          <div class="text-center mb-4">
            <div class="login-brand d-inline-flex align-items-center justify-content-center mb-2 bg-transparent" style="background: transparent; border-radius: 0; width: 120px; height: 120px;">
              <img src="{% static 'images/logo.png' %}" alt="Logo" style="width: 112px; height: 112px; object-fit: contain;">
            </div>
            <h1 class="h4 mb-0">{% trans "Welcome back" %}</h1>
            <p class="text-secondary small mb-0">{% trans "Sign in to the admin dashboard" %}</p>
          </div>

          {% if form.errors %}
            <div class="alert alert-danger py-2" role="alert">
              {% for error in form.non_field_errors %}{{ error }}{% empty %}{% trans "Invalid username or password." %}{% endfor %}
            </div>
          {% endif %}

          {% if messages %}
            {% for message in messages %}
              <div class="alert alert-{{ message.tags }} py-2" role="alert">
                {{ message }}
              </div>
            {% endfor %}
          {% endif %}

          <form method="post" action="{% url 'login' %}" novalidate>
            {% csrf_token %}
            {% if next %}<input type="hidden" name="next" value="{{ next }}">{% endif %}

            <div class="mb-3">
              <label for="id_username" class="form-label">{% trans "Username" %}</label>
              <input
                type="text"
                name="username"
                autofocus
                autocapitalize="none"
                autocomplete="username"
                maxlength="150"
                class="form-control"
                id="id_username"
                placeholder="{% trans 'Enter your username' %}"
                required
              >
            </div>

            <div class="mb-3">
              <label for="id_password" class="form-label">{% trans "Password" %}</label>
              <input
                type="password"
                name="password"
                autocomplete="current-password"
                class="form-control"
                id="id_password"
                placeholder="{% trans 'Enter your password' %}"
                required
              >
            </div>

            <div class="d-grid gap-2">
              <button type="submit" class="btn btn-primary">
                <i class="bi bi-box-arrow-in-right me-1"></i> {% trans "Sign in" %}
              </button>
            </div>
          </form>
        </div>
      </div>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  </body>
  </html>


